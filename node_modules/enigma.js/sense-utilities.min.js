/**
 * enigma.js v2.4.0
 * Copyright (c) 2018 QlikTech International AB
 * This library is licensed under MIT - See the LICENSE file for full details
 */

!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):e.senseUtilities=n()}(this,function(){"use strict";function o(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var b=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function a(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}}function e(t,o,r,e){return o=o||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?c(n(t),function(e){var n=encodeURIComponent(a(e))+r;return b(t[e])?c(t[e],function(e){return n+encodeURIComponent(a(e))}).join(o):n+encodeURIComponent(a(t[e]))}).join(o):e?encodeURIComponent(a(e))+r+encodeURIComponent(a(t)):""}function c(e,n){if(e.map)return e.map(n);for(var t=[],o=0;o<e.length;o++)t.push(n(e[o],o));return t}var n=Object.keys||function(e){var n=[];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(t);return n};function t(e,n,t,o){n=n||"&",t=t||"=";var r={};if("string"!=typeof e||0===e.length)return r;var a=/\+/g;e=e.split(n);var c=1e3;o&&"number"==typeof o.maxKeys&&(c=o.maxKeys);var u,i,s=e.length;0<c&&c<s&&(s=c);for(var f=0;f<s;++f){var p,l,d,y,v=e[f].replace(a,"%20"),m=v.indexOf(t);l=0<=m?(p=v.substr(0,m),v.substr(m+1)):(p=v,""),d=decodeURIComponent(p),y=decodeURIComponent(l),u=r,i=d,Object.prototype.hasOwnProperty.call(u,i)?b(r[d])?r[d].push(y):r[d]=[r[d],y]:r[d]=y}return r}var d={encode:e,stringify:e,decode:t,parse:t};function y(e){return e.replace(/(^[/]+)|([/]+$)/g,"")}return function(){function l(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,l)}var e,n,t;return e=l,t=[{key:"configureDefaults",value:function(e){e.host||(e.host="localhost"),void 0===e.secure&&(e.secure=!0),e.appId||e.route||(e.route="app/engineData"),void 0===e.noData&&(e.noData=!1)}},{key:"buildUrl",value:function(e){l.configureDefaults(e);var n=e.secure,t=e.host,o=e.port,r=e.prefix,a=e.subpath,c=e.route,u=e.identity,i=e.urlParams,s=e.ttl,f=e.appId,p="";return p+="".concat(n?"wss":"ws","://"),p+=t||"localhost",o&&(p+=":".concat(o)),r&&(p+="/".concat(y(r))),a&&(p+="/".concat(y(a))),c?p+="/".concat(y(c)):f&&""!==f&&(p+="/app/".concat(encodeURIComponent(f))),u&&(p+="/identity/".concat(encodeURIComponent(u))),s&&(p+="/ttl/".concat(s)),i&&(p+="?".concat(d.stringify(i))),p}}],(n=null)&&o(e.prototype,n),t&&o(e,t),l}()});
//# sourceMappingURL=sense-utilities.min.js.map
